<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sena - Assistente Virtual Inteligente | AmplaAI</title>
    <meta name="description" content="Sena Ã© uma assistente virtual inteligente desenvolvida pela AmplaAI. Converse, tire dÃºvidas e obtenha ajuda instantÃ¢nea com IA avanÃ§ada.">
    <meta name="keywords" content="assistente virtual, IA, inteligÃªncia artificial, chatbot, AmplaAI, Sena">
    <meta name="author" content="AmplaAI">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1">
<meta name="theme-color" content="#7C3AED">

<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<link rel="manifest" href="/manifest.json">
<link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
    
    <!-- Responsividade -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- SEO BÃ¡sico -->
<meta name="description" content="Converse com a Sena, a assistente virtual inteligente da AmplaAI. RÃ¡pida, moderna e sempre disponÃ­vel.">
<meta name="theme-color" content="#7C3AED">

<!-- Open Graph (Facebook, Discord, etc) -->
<meta property="og:type" content="website">
<meta property="og:title" content="Sena - Assistente Virtual Inteligente">
<meta property="og:description" content="Converse com a Sena, sua assistente virtual inteligente, otimizada para qualquer dispositivo.">
<meta property="og:image" content="https://seusite.com/imagens/preview.png">
<meta property="og:url" content="https://seusite.com">
<meta property="og:site_name" content="Sena AI">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Sena - Assistente Virtual Inteligente">
<meta name="twitter:description" content="Converse com a Sena em qualquer dispositivo, com desempenho ideal e design responsivo.">
<meta name="twitter:image" content="https://seusite.com/imagens/preview.png">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='url(%23gradient)'/><defs><linearGradient id='gradient' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' style='stop-color:rgb(147,51,234)'/><stop offset='100%' style='stop-color:rgb(37,99,235)'/></linearGradient></defs><text x='50' y='65' font-size='50' text-anchor='middle' fill='white' font-family='Arial'>S</text></svg>">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "YOUR_CLARITY_ID");
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID" crossorigin="anonymous"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        /* ---------------------- */
/*      GLOBAL RESET       */
/* ---------------------- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Inter', sans-serif;
}

/* ---------------------- */
/*      DARK THEME        */
/* ---------------------- */
body.dark {
    background: linear-gradient(to bottom right, #0f172a, #1e1b4b, #1e3a8a);
    background-size: 200% 200%;
    animation: gradient-shift 10s ease infinite;
}

body.dark .glass-effect {
    backdrop-filter: blur(12px);
    background: rgba(30, 27, 75, 0.7);
}

body.dark .gradient-text {
    background: linear-gradient(to right, #a78bfa, #60a5fa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* ---------------------- */
/*       FILE INPUTS      */
/* ---------------------- */
#fileInput, 
#imageInput {
    display: none;
}

/* ---------------------- */
/*       ANIMATIONS       */
/* ---------------------- */
@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}
.animate-bounce-1 { animation: bounce 0.6s infinite 0s; }
.animate-bounce-2 { animation: bounce 0.6s infinite 0.15s; }
.animate-bounce-3 { animation: bounce 0.6s infinite 0.3s; }

@keyframes scale-in {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}
.animate-scale-in {
    animation: scale-in 0.2s ease-out;
}

@keyframes fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
    animation: fade-in 0.3s ease-out;
}

@keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ---------------------- */
/*      RECORDING ICON    */
/* ---------------------- */
.recording {
    animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* ---------------------- */
/*       MOBILE FIX       */
/* ---------------------- */
@media (max-width: 640px) {
    .mobile-hide {
        display: none;
    }

    /* Deixa tudo respirar */
    body {
        padding: 10px;
    }

    .glass-effect {
        margin: 0;
        padding: 12px;
        border-radius: 12px;
    }

    /* Ajusta textos que quebram feio */
    h1, h2, h3, p {
        word-wrap: break-word;
        text-align: center;
    }
}

/* ---------------------- */
/*      TABLET FIX        */
/* ---------------------- */
@media (max-width: 900px) {
    .responsive-container {
        width: 100%;
        padding: 15px;
    }
}
        
        /* Texto com gradiente */
.gradient-text {
    background: linear-gradient(to right, #9333ea, #2563eb);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    display: inline-block;
}

/* Gradiente animado mais suave */
.gradient-animated {
    background: linear-gradient(45deg, #9333ea, #2563eb, #9333ea, #2563eb);
    background-size: 300% 300%;
    animation: gradient-shift 4s ease infinite;
}

@keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Scrollbar customizado */
.chat-scroll::-webkit-scrollbar {
    width: 8px;
}
.chat-scroll::-webkit-scrollbar-track {
    background: rgba(240, 240, 240, 0.8);
    border-radius: 10px;
}
.chat-scroll::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #9333ea, #2563eb);
    border-radius: 10px;
}
.chat-scroll::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #7c3aed, #1d4ed8);
}

/* AnimaÃ§Ã£o de entrada */
.message-enter {
    animation: fade-in 0.25s ease-out;
}

@keyframes fade-in {
    from { opacity: 0; transform: translateY(6px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Efeito glass universal */
.glass-effect {
    background: rgba(255, 255, 255, 0.65);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

/* Hover com leve elevaÃ§Ã£o */
.hover-lift {
    transition: transform 0.20s ease, box-shadow 0.20s ease;
}
.hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

/* Pulso */
.pulse-ring {
    animation: pulse-ring 2s ease-in-out infinite;
}

@keyframes pulse-ring {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.45; }
}
        
        /* ===========================
   RESET & BASE
=========================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden; /* evita scroll se for app full screen */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #fff; /* ou seu background */
}

body, #root, .app-container {
  display: flex;
  flex-direction: column;
  height: 100vh; /* ocupa 100% da viewport */
  width: 100vw;
  max-width: 100vw;
  overflow: hidden;
  position: relative;
  padding-top: env(safe-area-inset-top);    /* importantÃ­ssimo para iPhone */
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
}

#root {
  flex-grow: 1;
  overflow-y: auto; /* sÃ³ a Ã¡rea de conteÃºdo rola */
  -webkit-overflow-scrolling: touch; /* rolagem suave no iOS */
}

/* ===========================
   TEMA ESCURO
=========================== */
body.dark {
    background: linear-gradient(to bottom right, #0f172a, #1e1b4b, #1e3a8a);
}

body.dark .glass-effect {
    background: rgba(30, 27, 75, 0.55);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

body.dark .gradient-text {
    background: linear-gradient(to right, #c4b5fd, #60a5fa);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
}

body.dark .chat-scroll::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #7c3aed, #2563eb);
}

/* ===========================
   GLASS EFFECT
=========================== */
.glass-effect {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-radius: 1rem;
    transition: background 0.3s ease;
}

/* ===========================
   GRADIENT TEXT
=========================== */
.gradient-text {
    background: linear-gradient(to right, #9333ea, #2563eb);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
}

.gradient-animated {
    background: linear-gradient(45deg, #9333ea, #2563eb, #9333ea, #2563eb);
    background-size: 300% 300%;
    animation: gradient-shift 3s ease infinite;
}

@keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ===========================
   SCROLLBAR
=========================== */
.chat-scroll::-webkit-scrollbar {
    width: 8px;
}

.chat-scroll::-webkit-scrollbar-track {
    background: #f0f0f0;
    border-radius: 10px;
}

.chat-scroll::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #9333ea, #2563eb);
    border-radius: 10px;
}

/* ===========================
   BOTÃ•ES E HOVERS
=========================== */
.hover-lift {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

/* ===========================
   ANIMAÃ‡Ã•ES
=========================== */
.message-enter {
    animation: fade-in 0.35s ease-out;
}

@keyframes fade-in {
    from { opacity: 0; transform: translateY(6px); }
    to { opacity: 1; transform: translateY(0); }
}

.recording {
    animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
    0%,100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.pulse-ring {
    animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse-ring {
    0%,100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* ===========================
   INPUTS SECRETOS
=========================== */
#fileInput, 
#imageInput,
#videoInput {
    display: none;
}

/* ===========================
   MOBILE RESPONSIVE
=========================== */
@media (max-width: 640px) {

    /* esconder coisas pesadas no mobile */
    .mobile-hide {
        display: none !important;
    }

    .logo-container img {
        width: 32px;
        height: 32px;
    }

    .chat-container {
        padding: 0 10px;
    }

    header h1 {
        font-size: 1.4rem;
    }
}
        
        .logo-container {
  display: flex;
  align-items: center;
  justify-content: center;
}

.logo {
  width: 48px;  /* ajusta o tamanho conforme o layout */
  height: auto;
}
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 via-purple-50 to-blue-50 min-h-screen transition-colors duration-300">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-gradient-to-br from-purple-600 to-blue-600 z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="logo-container">
  <img src="https://i.imgur.com/5watJQF.png" alt="Logo" class="logo">
</div>
            </div>
            <p class="text-white text-lg font-medium">Carregando Sena...</p>
        </div>
    </div>

    <!-- Hidden file inputs -->
    <input type="file" id="fileInput" accept=".pdf,.doc,.docx,.txt" />
    <input type="file" id="imageInput" accept="image/*" />

    <div class="flex flex-col h-screen">
        <!-- Header -->
        <header class="glass-effect border-b border-white/20 px-6 py-4 flex items-center justify-between shadow-lg backdrop-blur-xl">
            <div class="flex items-center gap-3">
                <div class="flex items-center gap-2">
                    <h1 class="text-2xl font-bold gradient-text">Sena</h1>
                    <div class="logo-container">
  <img src="https://i.imgur.com/5watJQF.png" alt="Logo" class="logo">
</div>
                </div>
                <span class="text-xs text-gray-600 hidden sm:inline font-medium">by AmplaAI</span>
            </div>
            <div class="flex items-center gap-2">
                <button onclick="toggleTheme()" class="p-2 hover:bg-white/50 rounded-full transition-all" title="Alternar tema">
                    <svg id="themeIcon" class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                    </svg>
                </button>
                <button onclick="openAboutModal()" class="px-4 py-2 bg-white/50 text-gray-700 rounded-full text-sm font-medium hover:bg-white/70 transition-all flex items-center gap-2 hover-lift">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <span class="hidden sm:inline">Sobre</span>
                </button>
                <button onclick="openDonateModal()" class="px-4 py-2 gradient-animated text-white rounded-full text-sm font-medium hover:shadow-xl transition-all flex items-center gap-2 hover-lift">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                    </svg>
                    Doar
                </button>
            </div>
        </header>

        <!-- AdSense Banner -->
        <div class="bg-white/50 backdrop-blur-sm py-2 px-4 text-center border-b border-white/20">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-YOUR_ADSENSE_ID"
                 data-ad-slot="YOUR_AD_SLOT"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div>

        <!-- Stats Bar -->
        <div class="bg-white/30 backdrop-blur-sm px-6 py-2 flex items-center justify-center gap-6 text-xs text-gray-600 border-b border-white/20">
            <div class="flex items-center gap-2">
                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                <span>Online</span>
            </div>
            <span class="text-gray-400">â€¢</span>
            <div class="flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
                <span id="responseTime">Codex AI v1.0</span>
            </div>
            <span class="text-gray-400 mobile-hide">â€¢</span>
            <div class="flex items-center gap-1 mobile-hide">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/>
                </svg>
                <span id="messageCount">0 mensagens</span>
            </div>
        </div>

        <!-- Quick Actions Bar -->
        <div class="bg-gradient-to-r from-purple-500/10 to-blue-500/10 backdrop-blur-sm px-4 py-3 flex items-center gap-2 overflow-x-auto border-b border-white/20">
            <button onclick="quickMessage('OlÃ¡! Como vocÃª pode me ajudar?')" class="px-4 py-2 bg-white/70 hover:bg-white rounded-full text-xs font-medium transition-all whitespace-nowrap hover-lift">
                ðŸ‘‹ ComeÃ§ar conversa
            </button>
            <button onclick="quickMessage('Me explique sobre a AmplaAI')" class="px-4 py-2 bg-white/70 hover:bg-white rounded-full text-xs font-medium transition-all whitespace-nowrap hover-lift">
                ðŸš€ Sobre AmplaAI
            </button>
            <button onclick="quickMessage('Quais sÃ£o suas funcionalidades?')" class="px-4 py-2 bg-white/70 hover:bg-white rounded-full text-xs font-medium transition-all whitespace-nowrap hover-lift">
                âš¡ Funcionalidades
            </button>
            <button onclick="quickMessage('Me conte uma curiosidade interessante')" class="px-4 py-2 bg-white/70 hover:bg-white rounded-full text-xs font-medium transition-all whitespace-nowrap hover-lift">
                ðŸ’¡ Curiosidade
            </button>
        </div>

        <!-- Chat Area -->
        <div id="chatArea" class="flex-1 overflow-y-auto px-4 py-6 max-w-4xl mx-auto w-full chat-scroll">
            <!-- Welcome Message -->
            <div class="text-center mb-8 animate-fade-in">
                <div class="logo-container">
  <img src="https://i.imgur.com/5watJQF.png" alt="Logo" class="logo">
</div>
                </div>
                <h2 class="text-2xl font-bold text-gray-800 mb-2">OlÃ¡! Eu sou a Sena ðŸ‘‹</h2>
                <p class="text-gray-600 max-w-md mx-auto">Sua assistente virtual inteligente. Estou aqui para ajudar com o que vocÃª precisar!</p>
            </div>

            <!-- Initial Message Redesigned with Typing Animation -->
<div class="initial-message-container">
  <div class="avatar">
    <img src="https://i.imgur.com/5watJQF.png" alt="Logo" />
  </div>
  <div class="message-box">
    <p class="typing-text">Como posso te ajudar hoje?<span class="emoji">ðŸ˜Š</span></p>
  </div>
</div>

<style>
  .initial-message-container {
    display: flex;
    align-items: center;
    gap: 1rem;
    max-width: 80%;
    margin-bottom: 1.5rem;
    animation: fadeIn 0.6s ease forwards;
  }

  .avatar {
    flex-shrink: 0;
    padding: 0.15rem;
    border-radius: 50%;
    background: linear-gradient(135deg, #7c3aed, #3b82f6);
    box-shadow: 0 2px 8px rgba(124, 58, 237, 0.5);
  }

  .avatar img {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    object-fit: cover;
    display: block;
  }

  .message-box {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    border: 1px solid #e5e7eb;
    border-radius: 24px;
    padding: 1rem 1.25rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  }

  .typing-text {
    font-size: 1rem;
    color: #111827;
    font-weight: 500;
    line-height: 1.5;
    white-space: nowrap;
    overflow: hidden;
    border-right: 3px solid #7c3aed;
    width: 0;
    animation: typing 3.5s steps(45, end) forwards, blink-caret 0.75s step-end infinite;
  }

  .emoji {
    margin-left: 0.3rem;
    color: #facc15; /* amarelo vibrante */
    font-weight: normal;
    white-space: normal;
  }

  @keyframes typing {
    from { width: 0 }
    to { width: 100% }
  }

  @keyframes blink-caret {
    0%, 100% { border-color: transparent }
    50% { border-color: #7c3aed }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

        <!-- Input Area -->
        <div class="glass-effect border-t border-white/20 px-4 py-4 shadow-2xl backdrop-blur-xl">
            <div class="max-w-4xl mx-auto">
                <div class="flex items-end gap-2 bg-white/50 rounded-3xl p-2 border border-white/30 shadow-lg">
                    <div class="flex gap-1 ml-2">
                        <button onclick="handleImageUpload()" class="p-2 hover:bg-white/70 rounded-full transition-all" title="Enviar imagem">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                        </button>
                        <button onclick="handleFileUpload()" class="p-2 hover:bg-white/70 rounded-full transition-all" title="Enviar documento">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                        </button>
                        <button onclick="startVoiceInput()" id="voiceButton" class="p-2 hover:bg-white/70 rounded-full transition-all" title="Entrada por voz">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/>
                            </svg>
                        </button>
                        <button onclick="clearChat()" class="p-2 hover:bg-white/70 rounded-full transition-all" title="Limpar conversa">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                            </svg>
                        </button>
                    </div>
                    
                    <textarea
  id="messageInput"
  placeholder="Digite sua mensagem..."
  rows="1"
  class="flex-1 bg-white border border-gray-300 rounded-2xl outline-none px-4 py-3 text-gray-800 placeholder-gray-400 resize-none max-h-40 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 shadow-sm hover:shadow-md"
  onkeydown="handleKeyPress(event)"
  oninput="autoResize(this)"
></textarea>
                    
                    <button onclick="sendMessage()" id="sendButton" class="p-3 gradient-animated text-white rounded-full hover:shadow-xl transition-all hover-lift flex-shrink-0">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                        </svg>
                    </button>
                </div>
                
                <div class="flex items-center justify-between mt-3 px-2">
                    <p class="text-xs text-gray-500">
                        Sena pode cometer erros. Verifique informaÃ§Ãµes importantes.
                    </p>
                    <div class="flex items-center gap-2">
                        <button onclick="exportChat()" class="text-xs text-purple-600 hover:text-purple-800 font-medium transition-colors">
                            ðŸ“¥ Exportar
                        </button>
                        <span class="text-gray-300">â€¢</span>
                        <button onclick="shareChat()" class="text-xs text-blue-600 hover:text-blue-800 font-medium transition-colors">
                            ðŸ”— Compartilhar
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="glass-effect border-t border-white/20 px-4 py-3 backdrop-blur-xl">
            <div class="max-w-4xl mx-auto flex flex-wrap items-center justify-center gap-4 text-xs text-gray-600">
                <a href="https://termos.orpheostudio.com.br" target="_blank" rel="noopener noreferrer" class="hover:text-purple-600 transition-colors flex items-center gap-1 hover-lift">
                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                    Termos de Uso
                </a>
                <span class="text-gray-300">|</span>
                <a href="https://politicas.orpheostudio.com.br" target="_blank" rel="noopener noreferrer" class="hover:text-purple-600 transition-colors flex items-center gap-1 hover-lift">
                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                    </svg>
                    PolÃ­ticas de Privacidade
                </a>
                <span class="text-gray-300 mobile-hide">|</span>
                <span class="text-gray-500 mobile-hide">Â© 2025 Studio Tsukiyo Platforms - Todos os direitos reservados</span>
            </div>
        </footer>
    </div>

    <!-- Donate Modal -->
    <div id="donateModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 relative animate-scale-in">
            <button onclick="closeDonateModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors hover:rotate-90 duration-300">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
            
            <div class="text-center mb-6">
                <div class="w-20 h-20 gradient-animated rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl">
                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                    </svg>
                </div>
                <h2 class="text-3xl font-bold text-gray-800 mb-2">Apoie a Sena</h2>
                <p class="text-gray-600">Sua contribuiÃ§Ã£o mantÃ©m a Sena gratuita e acessÃ­vel para todos! ðŸ’œ</p>
            </div>

            <div class="bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl p-5 mb-4 border border-purple-100">
                <p class="text-sm text-gray-700 mb-3 font-semibold flex items-center gap-2">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"/>
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"/>
                    </svg>
                    Chave PIX (E-mail):
                </p>
                <div class="flex items-center gap-2 bg-white rounded-xl p-4 border border-gray-200 shadow-sm">
                    <code class="flex-1 text-sm text-gray-800 break-all font-mono">sac.studiotsukiyo@outlook.com</code>
                    <button onclick="copyPix()" class="flex-shrink-0 p-3 gradient-animated text-white rounded-xl hover:shadow-lg transition-all hover-lift" title="Copiar chave PIX">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-22v8a2 2 0 002 2z"/>
                        </svg>
                    </button>
                </div>
                <p id="copiedMessage" class="text-sm text-green-600 mt-3 text-center font-semibold hidden">
                    âœ“ Chave copiada com sucesso!
                </p>
            </div>

            <div class="text-center text-sm text-gray-600 space-y-2">
                <p class="font-medium">ðŸ’œ Obrigado pelo seu apoio!</p>
                <p class="text-xs">Toda contribuiÃ§Ã£o ajuda a melhorar a Sena</p>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div id="aboutModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto">
        <div class="bg-white rounded-3xl shadow-2xl max-w-3xl w-full p-8 relative my-8 animate-scale-in">
            <button onclick="closeAboutModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors hover:rotate-90 duration-300">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
            
            <div class="mb-8">
                <div class="w-20 h-20 gradient-animated rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl">
                    <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                </div>
                <h2 class="text-3xl font-bold text-gray-800 mb-2 text-center">Sobre</h2>
                <p class="text-center text-gray-600">ConheÃ§a mais sobre a Sena e a AmplaAI</p>
            </div>

            <div class="space-y-6">
                <div class="bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl p-6 border border-purple-100 hover-lift">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="logo-container">
  <img src="https://i.imgur.com/5watJQF.png" alt="Logo" class="logo">
</div>
                        <h3 class="text-xl font-bold text-gray-800">Sobre a Sena</h3>
                    </div>
                    <p class="text-gray-700 leading-relaxed mb-4">
                        A Sena Ã© uma assistente virtual inteligente desenvolvida com tecnologia de ponta em inteligÃªncia artificial. 
                        Criada para ser amigÃ¡vel, prestativa e eficiente, a Sena estÃ¡ aqui para ajudar vocÃª com informaÃ§Ãµes, 
                        responder perguntas e facilitar suas tarefas do dia a dia.
                    </p>
                    <div class="grid grid-cols-2 gap-3 text-sm">
                        <div class="bg-white/70 rounded-lg p-3">
                            <p class="font-semibold text-purple-600 mb-1">Tecnologia</p>
                            <p class="text-gray-600">IA AvanÃ§ada</p>
                        </div>
                        <div class="bg-white/70 rounded-lg p-3">
                            <p class="font-semibold text-blue-600 mb-1">Idioma</p>
                            <p class="text-gray-600">PortuguÃªs BR</p>
                        </div>
                        <div class="bg-white/70 rounded-lg p-3">
                            <p class="font-semibold text-purple-600 mb-1">Disponibilidade</p>
                            <p class="text-gray-600">24/7 Online</p>
                        </div>
                        <div class="bg-white/70 rounded-lg p-3">
                            <p class="font-semibold text-blue-600 mb-1">Modelo</p>
                            <p class="text-gray-600">Mistral Large</p>
                        </div>
                    </div>
                </div>

                <div class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 border border-blue-100 hover-lift">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">ðŸš€</span>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800">Sobre a AmplaAI</h3>
                    </div>
                    <p class="text-gray-700 leading-relaxed mb-4">
                        A AmplaAI Ã© uma empresa brasileira inovadora dedicada a democratizar o acesso Ã  inteligÃªncia artificial. 
                        Nossa missÃ£o Ã© criar soluÃ§Ãµes de IA acessÃ­veis, poderosas e fÃ¡ceis de usar, capacitando pessoas e empresas 
                        a aproveitarem todo o potencial da tecnologia de IA.
                    </p>
                    <div class="space-y-3 text-sm bg-white/70 rounded-lg p-4">
                        <div class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <div>
                                <p class="font-semibold text-gray-800">VisÃ£o</p>
                                <p class="text-gray-600">Tornar a IA acessÃ­vel para todos os brasileiros</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <div>
                                <p class="font-semibold text-gray-800">MissÃ£o</p>
                                <p class="text-gray-600">Desenvolver ferramentas de IA que simplifiquem e melhorem a vida das pessoas</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <div>
                                <p class="font-semibold text-gray-800">Valores</p>
                                <p class="text-gray-600">InovaÃ§Ã£o, Acessibilidade, Qualidade e TransparÃªncia</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="border-t pt-6 text-center text-sm text-gray-500 space-y-2">
                    <p class="font-medium">Desenvolvido com ðŸ’œ pela AmplaAI</p>
                    <p>Â© 2025 Studio Tsukiyo Platforms - Todos os direitos reservados</p>
                    <p class="text-xs">VersÃ£o 1.0.0 - Ãšltima atualizaÃ§Ã£o: Novembro 2024</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const PIX_KEY = "sac.studiotsukiyo@outlook.com";
        let messages = [];
        let isTyping = false;
        let messageCount = 0;
        let isDarkMode = false;
        let recognition = null;
        let isRecording = false;

        // Hide loading screen
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
            }, 1000);
            
            // Initialize AdSense
            try {
                (adsbygoogle = window.adsbygoogle || []).push({});
            } catch (e) {
                console.log('AdSense not loaded');
            }
            
            // Initialize Speech Recognition
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.lang = 'pt-BR';
                recognition.continuous = false;
                recognition.interimResults = false;

                recognition.onresult = (event) => {
                    const transcript = event.results[0][0].transcript;
                    document.getElementById('messageInput').value = transcript;
                    stopRecording();
                };

                recognition.onerror = (event) => {
                    console.error('Speech recognition error:', event.error);
                    stopRecording();
                    if (event.error === 'not-allowed') {
                        alert('Por favor, permita o acesso ao microfone para usar esta funcionalidade.');
                    }
                };

                recognition.onend = () => {
                    stopRecording();
                };
            }
        });

        // Modal functions
        function openDonateModal() {
            document.getElementById('donateModal').classList.remove('hidden');
        }

        function closeDonateModal() {
            document.getElementById('donateModal').classList.add('hidden');
            document.getElementById('copiedMessage').classList.add('hidden');
        }

        function openAboutModal() {
            document.getElementById('aboutModal').classList.remove('hidden');
        }

        function closeAboutModal() {
            document.getElementById('aboutModal').classList.add('hidden');
        }

        function copyPix() {
            navigator.clipboard.writeText(PIX_KEY).then(() => {
                const msg = document.getElementById('copiedMessage');
                msg.classList.remove('hidden');
                setTimeout(() => {
                    msg.classList.add('hidden');
                }, 3000);
            }).catch(err => {
                alert('Erro ao copiar: ' + err);
            });
        }

        // Theme toggle
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            const body = document.body;
            const icon = document.getElementById('themeIcon');
            
            if (isDarkMode) {
                body.classList.add('dark');
                icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>';
            } else {
                body.classList.remove('dark');
                icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>';
            }
            
            localStorage.setItem('darkMode', isDarkMode);
        }

        // Load theme preference
        if (localStorage.getItem('darkMode') === 'true') {
            toggleTheme();
        }

        // Auto-resize textarea
        function autoResize(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = Math.min(textarea.scrollHeight, 128) + 'px';
        }

        // Seletores
const emojiBtn = document.getElementById('emojiBtn');
const voiceBtn = document.getElementById('voiceBtn');
const attachBtn = document.getElementById('attachBtn');
const inputField = document.getElementById('inputField');

// --- EMOJI SELECTOR ---
emojiBtn?.addEventListener('click', () => {
  inputField.focus();
  alert('Abra o teclado de emojis do seu dispositivo. ðŸ˜Š');
});

// --- VOICE INPUT ---
voiceBtn?.addEventListener('click', () => {
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

  if (!SpeechRecognition) {
    alert('Reconhecimento de voz nÃ£o Ã© suportado neste navegador ðŸŽ¤');
    return;
  }

  const recognition = new SpeechRecognition();
  recognition.lang = 'pt-BR';
  recognition.interimResults = false;

  recognition.start();

  recognition.onresult = (event) => {
    const transcript = event.results[0][0].transcript;
    inputField.value += (inputField.value ? ' ' : '') + transcript;
  };

  recognition.onerror = (event) => {
    console.error('Erro de voz:', event.error);
    alert('Erro ao capturar voz.');
  };
});

// --- FILE ATTACH (LocalStorage) ---
attachBtn?.addEventListener('click', () => {
  const fileInput = document.createElement('input');
  fileInput.type = 'file';
  fileInput.multiple = true;
  fileInput.accept = '*/*';

  fileInput.addEventListener('change', async (event) => {
    const files = Array.from(event.target.files);

    for (const file of files) {
      const reader = new FileReader();

      reader.onload = (e) => {
        const base64Data = e.target.result;

        // Armazena no localStorage como JSON
        const storedFiles = JSON.parse(localStorage.getItem('storedFiles') || '[]');
        storedFiles.push({
          name: file.name,
          type: file.type,
          size: file.size,
          data: base64Data
        });
        localStorage.setItem('storedFiles', JSON.stringify(storedFiles));

        console.log(`Arquivo ${file.name} salvo no localStorage.`);
      };

      reader.readAsDataURL(file);
    }

    alert(`${files.length} arquivo(s) salvo(s) localmente ðŸ“¦`);
  });

  fileInput.click();
});

// --- FunÃ§Ã£o auxiliar: listar arquivos armazenados ---
function listarArquivosLocal() {
  const storedFiles = JSON.parse(localStorage.getItem('storedFiles') || '[]');
  console.table(storedFiles.map(f => ({
    nome: f.name,
    tipo: f.type,
    tamanhoKB: (f.size / 1024).toFixed(1)
  })));
}

        // Chat functions
        function addMessage(text, isBot = false, isError = false) {
            const chatArea = document.getElementById('chatArea');
            const messageDiv = document.createElement('div');
            messageDiv.className = `mb-6 flex ${isBot ? 'justify-start' : 'justify-end'} message-enter`;
            
            const avatarClass = isBot ? 'bg-gradient-to-br from-purple-100 to-blue-100' : 'bg-blue-100';
            const messageClass = isBot 
                ? (isError ? 'bg-red-50 text-red-900 border border-red-200' : 'bg-white/80 backdrop-blur-sm border border-white/50') 
                : 'gradient-animated text-white';
            
            const avatarContent = isBot 
                ? `<div class="logo-container">
                     S
                   </div>`
                : `<svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                   </svg>`;
            
            messageDiv.innerHTML = `
                <div class="flex gap-3 max-w-[80%] ${isBot ? 'flex-row' : 'flex-row-reverse'}">
                    <div class="w-10 h-10 rounded-full flex-shrink-0 flex items-center justify-center ${avatarClass}">
                        ${avatarContent}
                    </div>
                    <div class="${messageClass} rounded-2xl px-4 py-3 shadow-lg hover-lift">
                        <p class="text-sm leading-relaxed whitespace-pre-wrap">${text}</p>
                    </div>
                </div>
            `;
            
            chatArea.appendChild(messageDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
            
            if (!isBot) {
                messageCount++;
                updateMessageCount();
            }
            
            messages.push({ text, isBot, timestamp: new Date() });
        }

        function showTyping() {
            const chatArea = document.getElementById('chatArea');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'mb-6 flex justify-start';
            typingDiv.innerHTML = `
                <div class="flex gap-3 max-w-[80%]">
                    <div class="w-10 h-10 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex-shrink-0 flex items-center justify-center">
                        <div class="logo-container">
                            S
                        </div>
                    </div>
                    <div class="bg-white/80 backdrop-blur-sm border border-white/50 rounded-2xl px-4 py-3 shadow-lg">
                        <div class="flex gap-1">
                            <div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce-1"></div>
                            <div class="w-2 h-2 bg-blue-400 rounded-full animate-bounce-2"></div>
                            <div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce-3"></div>
                        </div>
                    </div>
                </div>
            `;
            chatArea.appendChild(typingDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
        }

        function hideTyping() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function updateMessageCount() {
            document.getElementById('messageCount').textContent = `${messageCount} mensagens`;
        }

        function getPredefinedResponse(msg) {
            const lowerMsg = msg.toLowerCase();
            
            if (lowerMsg.includes('oi') || lowerMsg.includes('olÃ¡') || lowerMsg.includes('hey') || lowerMsg.includes('ola')) {
                return 'OlÃ¡! Como posso te ajudar hoje? ðŸ˜Š';
            }
            
            if (lowerMsg.includes('quem Ã© vocÃª') || lowerMsg.includes('quem e voce') || lowerMsg.includes('o que vocÃª Ã©') || lowerMsg.includes('o que voce e')) {
                return 'Sou a Sena, assistente virtual da AmplaAI! Estou aqui para ajudar com informaÃ§Ãµes, responder perguntas e tornar seu dia mais fÃ¡cil. Posso auxiliar vocÃª com diversos assuntos. Em que posso te ajudar?';
            }

            if (lowerMsg.includes('amplai') || lowerMsg.includes('ampla ai') || lowerMsg.includes('ampla')) {
                return 'A AmplaAI Ã© uma empresa brasileira inovadora dedicada a criar soluÃ§Ãµes de inteligÃªncia artificial acessÃ­veis e de alta qualidade. Nosso objetivo Ã© democratizar o acesso Ã  IA no Brasil, oferecendo ferramentas poderosas e fÃ¡ceis de usar. Para saber mais, clique no botÃ£o "Sobre" no cabeÃ§alho! ðŸš€';
            }
            
            if (lowerMsg.includes('obrigad') || lowerMsg.includes('valeu') || lowerMsg.includes('thanks')) {
                return 'Por nada! Fico feliz em ajudar. Se precisar de mais alguma coisa, Ã© sÃ³ chamar! ðŸ˜Š';
            }
            
            if (lowerMsg.includes('tchau') || lowerMsg.includes('adeus') || lowerMsg.includes('atÃ© logo') || lowerMsg.includes('bye')) {
                return 'AtÃ© logo! Foi um prazer conversar com vocÃª. Volte sempre que precisar! ðŸ‘‹';
            }

            if (lowerMsg.includes('funcionalidade') || lowerMsg.includes('o que vocÃª faz') || lowerMsg.includes('o que voce faz')) {
                return 'Posso te ajudar com diversas coisas! ðŸŽ¯\n\nâ€¢ Responder perguntas sobre diversos assuntos\nâ€¢ Ajudar com tarefas do dia a dia\nâ€¢ Fornecer informaÃ§Ãµes e explicaÃ§Ãµes\nâ€¢ Auxiliar em pesquisas\nâ€¢ Criar conteÃºdo\nâ€¢ E muito mais!\n\nÃ‰ sÃ³ me perguntar o que precisa!';
            }
            
            return null;
        }

        async function processWithAI(userMessage) {
            const startTime = Date.now();
            
            try {
                const response = await fetch('https://api.mistral.ai/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer NFuAj8PYUPcaf6tA1BjbyXuIeSjSA4sW'
                    },
                    body: JSON.stringify({
                        model: 'mistral-large-latest',
                        messages: [
                            {
                                role: 'system',
                                content: `VocÃª Ã© a Sena, assistente virtual da AmplaAI, uma empresa brasileira inovadora focada em soluÃ§Ãµes de inteligÃªncia artificial.

DIRETRIZES OBRIGATÃ“RIAS:
- Nome: Sena
- Empresa: AmplaAI
- Personalidade: amigÃ¡vel, prestativa e profissional
- Sempre responda em portuguÃªs brasileiro
- Seja clara, concisa e Ãºtil
- Mantenha tom conversacional e amigÃ¡vel
- Use emojis quando apropriado para tornar a conversa mais agradÃ¡vel
- NÃ£o forneÃ§a informaÃ§Ãµes mÃ©dicas diagnÃ³sticas
- NÃ£o dÃª conselhos legais especÃ­ficos
- NÃ£o produza conteÃºdo prejudicial

SOBRE A SENA:
A Sena Ã© uma assistente virtual inteligente desenvolvida pela AmplaAI para ajudar usuÃ¡rios brasileiros com suas necessidades diÃ¡rias, oferecendo respostas precisas e prestativas.

SOBRE A AMPLAI:
A AmplaAI Ã© uma empresa brasileira dedicada a criar soluÃ§Ãµes de IA acessÃ­veis e de alta qualidade, focada em democratizar o acesso Ã  inteligÃªncia artificial no Brasil.

Responda de forma natural, prestativa e empÃ¡tica, seguindo todas as diretrizes acima.`
                            },
                            {
                                role: 'user',
                                content: userMessage
                            }
                        ],
                        temperature: 0.7,
                        max_tokens: 1000
                    })
                });

                const data = await response.json();
                const aiResponse = data.choices && data.choices[0] && data.choices[0].message 
                    ? data.choices[0].message.content 
                    : null;

                const endTime = Date.now();
                const responseTime = endTime - startTime;
                updateResponseTime(responseTime);

                return aiResponse || 'Desculpe, nÃ£o consegui processar sua mensagem. Tente novamente.';
            } catch (error) {
                console.error('Erro na API:', error);
                return 'Desculpe, estou tendo problemas para responder agora. Por favor, tente novamente em alguns instantes. ðŸ˜”';
            }
        }

        function updateResponseTime(ms) {
            const seconds = (ms / 1000).toFixed(1);
            const elem = document.getElementById('responseTime');
            if (seconds < 2) {
                elem.textContent = 'Muito RÃ¡pido';
            } else if (seconds < 5) {
                elem.textContent = 'RÃ¡pido';
            } else {
                elem.textContent = 'Normal';
            }
        }

        async function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message || isTyping) return;
            
            addMessage(message, false);
            input.value = '';
            input.style.height = 'auto';
            
            isTyping = true;
            showTyping();
            
            const predefinedResponse = getPredefinedResponse(message);
            
            if (predefinedResponse) {
                setTimeout(() => {
                    hideTyping();
                    addMessage(predefinedResponse, true);
                    isTyping = false;
                }, 800);
            } else {
                const aiResponse = await processWithAI(message);
                hideTyping();
                addMessage(aiResponse, true);
                isTyping = false;
            }
        }

        function quickMessage(message) {
            document.getElementById('messageInput').value = message;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        function clearChat() {
            if (confirm('Tem certeza que deseja limpar toda a conversa?')) {
                const chatArea = document.getElementById('chatArea');
                chatArea.innerHTML = `
                    <div class="text-center mb-8 animate-fade-in">
                        <div class="w-20 h-20 gradient-animated rounded-full flex items-center justify-center mx-auto mb-4 shadow-2xl">
                            <div class="logo-container">
                                S
                            </div>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">OlÃ¡! Eu sou a Sena ðŸ‘‹</h2>
                        <p class="text-gray-600 max-w-md mx-auto">Sua assistente virtual inteligente. Estou aqui para ajudar com o que vocÃª precisar!</p>
                    </div>
                    <div class="mb-6 flex justify-start animate-fade-in">
                        <div class="flex gap-3 max-w-[80%]">
                            <div class="w-10 h-10 rounded-full flex-shrink-0 flex items-center justify-center bg-gradient-to-br from-purple-100 to-blue-100">
                                <div class="logo-container">
                                    S
                                </div>
                            </div>
                            <div class="bg-white/80 backdrop-blur-sm border border-white/50 rounded-2xl px-4 py-3 shadow-lg">
                                <p class="text-sm leading-relaxed text-gray-800">Como posso te ajudar hoje? Pode me perguntar qualquer coisa! ðŸ˜Š</p>
                            </div>
                        </div>
                    </div>
                `;
                messages = [];
                messageCount = 0;
                updateMessageCount();
            }
        }

        function exportChat() {
            if (messages.length === 0) {
                alert('NÃ£o hÃ¡ mensagens para exportar!');
                return;
            }

            let exportText = '='.repeat(50) + '\n';
            exportText += 'CONVERSA COM SENA - ASSISTENTE VIRTUAL\n';
            exportText += 'AmplaAI - InteligÃªncia Artificial AcessÃ­vel\n';
            exportText += '='.repeat(50) + '\n\n';
            exportText += 'Data: ' + new Date().toLocaleString('pt-BR') + '\n';
            exportText += 'Total de mensagens: ' + messages.length + '\n\n';
            exportText += '='.repeat(50) + '\n\n';
            
            messages.forEach((msg, index) => {
                const sender = msg.isBot ? 'SENA' : 'VOCÃŠ';
                const timestamp = msg.timestamp ? msg.timestamp.toLocaleTimeString('pt-BR') : '';
                exportText += `[${timestamp}] ${sender}:\n${msg.text}\n\n`;
            });
            
            exportText += '='.repeat(50) + '\n';
            exportText += 'Fim da conversa\n';
            exportText += 'Gerado por Sena - AmplaAI Â© 2024\n';
            
            const blob = new Blob([exportText], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `sena-conversa-${Date.now()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            // Feedback visual
            const notification = document.createElement('div');
            notification.className = 'fixed bottom-20 right-4 bg-green-500 text-white px-6 py-3 rounded-full shadow-xl animate-scale-in z-50';
            notification.innerHTML = 'âœ“ Conversa exportada com sucesso!';
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }

        function shareChat() {
            const shareData = {
                title: 'Sena - Assistente Virtual da AmplaAI',
                text: 'ConheÃ§a a Sena, uma assistente virtual inteligente que pode ajudar vocÃª com diversas tarefas! Desenvolvida pela AmplaAI.',
                url: window.location.href
            };

            if (navigator.share) {
                navigator.share(shareData)
                    .then(() => {
                        const notification = document.createElement('div');
                        notification.className = 'fixed bottom-20 right-4 bg-blue-500 text-white px-6 py-3 rounded-full shadow-xl animate-scale-in z-50';
                        notification.innerHTML = 'âœ“ Compartilhado com sucesso!';
                        document.body.appendChild(notification);
                        setTimeout(() => notification.remove(), 3000);
                    })
                    .catch(err => console.log('Erro ao compartilhar:', err));
            } else {
                // Fallback: copiar link
                const url = window.location.href;
                navigator.clipboard.writeText(url).then(() => {
                    alert('Link copiado para a Ã¡rea de transferÃªncia!\n\n' + url);
                }).catch(err => {
                    alert('Compartilhamento nÃ£o suportado neste navegador.\n\nCopie o link manualmente:\n' + url);
                });
            }
        }

        // Close modals when clicking outside
        ['donateModal', 'aboutModal'].forEach(modalId => {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.classList.add('hidden');
                        if (modalId === 'donateModal') {
                            document.getElementById('copiedMessage').classList.add('hidden');
                        }
                    }
                });
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + K: Limpar chat
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                clearChat();
            }
            
            // Ctrl/Cmd + E: Exportar
            if ((e.ctrlKey || e.metaKey) && e.key === 'e') {
                e.preventDefault();
                exportChat();
            }
            
            // Ctrl/Cmd + /: Focar no input
            if ((e.ctrlKey || e.metaKey) && e.key === '/') {
                e.preventDefault();
                document.getElementById('messageInput').focus();
            }
        });

        // Focus input on load
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('messageInput').focus();
            }, 1500);
        });

        // Prevent form submission on Enter in textarea
        document.getElementById('messageInput').addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Auto-save chat to localStorage
        window.addEventListener('beforeunload', () => {
            if (messages.length > 0) {
                localStorage.setItem('senaChat', JSON.stringify(messages));
            }
        });

        // Load saved chat on startup
        const savedChat = localStorage.getItem('senaChat');
        if (savedChat) {
            try {
                const savedMessages = JSON.parse(savedChat);
                if (savedMessages.length > 0 && confirm('Deseja restaurar a conversa anterior?')) {
                    messages = savedMessages.map(m => ({
                        ...m,
                        timestamp: new Date(m.timestamp)
                    }));
                    
                    const chatArea = document.getElementById('chatArea');
                    chatArea.innerHTML = '';
                    
                    messages.forEach(msg => {
                        addMessage(msg.text, msg.isBot);
                    });
                    
                    messageCount = messages.filter(m => !m.isBot).length;
                    updateMessageCount();
                }
            } catch (e) {
                console.error('Error loading saved chat:', e);
            }
        }

        // Online/Offline detection
        window.addEventListener('online', () => {
            const notification = document.createElement('div');
            notification.className = 'fixed top-20 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-full shadow-xl animate-scale-in z-50';
            notification.innerHTML = 'âœ“ ConexÃ£o restaurada';
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        });

        window.addEventListener('offline', () => {
            const notification = document.createElement('div');
            notification.className = 'fixed top-20 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-6 py-3 rounded-full shadow-xl animate-scale-in z-50';
            notification.innerHTML = 'âš  Sem conexÃ£o com a internet';
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 5000);
        });

        // Easter egg: Konami code
        let konamiCode = [];
        const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        
        document.addEventListener('keydown', (e) => {
            konamiCode.push(e.key);
            konamiCode = konamiCode.slice(-10);
            
            if (konamiCode.join(',') === konamiSequence.join(',')) {
                const messages = [
                    'VocÃª desbloqueou o modo secreto! ðŸŽ®',
                    'Konami code detectado! VocÃª Ã© um verdadeiro gamer! ðŸ•¹ï¸',
                    'Easter egg encontrado! ParabÃ©ns pela curiosidade! ðŸ¥šâœ¨',
                ];
                const randomMsg = messages[Math.floor(Math.random() * messages.length)];
                
                setTimeout(() => {
                    showTyping();
                    setTimeout(() => {
                        hideTyping();
                        addMessage(randomMsg, true);
                    }, 1000);
                }, 500);
                
                konamiCode = [];
            }
        });

        // Performance monitoring
        if ('performance' in window) {
            window.addEventListener('load', () => {
                setTimeout(() => {
                    const perfData = performance.getEntriesByType('navigation')[0];
                    if (perfData) {
                        console.log('Sena Performance Stats:');
                        console.log('- Load Time:', (perfData.loadEventEnd - perfData.fetchStart).toFixed(2), 'ms');
                        console.log('- DOM Content Loaded:', (perfData.domContentLoadedEventEnd - perfData.fetchStart).toFixed(2), 'ms');
                    }
                }, 0);
            });
        }

        // Console welcome message
        console.log('%cðŸ¤– Sena - Assistente Virtual', 'font-size: 20px; font-weight: bold; color: #9333ea;');
        console.log('%cDesenvolvido por AmplaAI', 'font-size: 14px; color: #2563eb;');
        console.log('%c\nAtalhos de teclado:', 'font-weight: bold; margin-top: 10px;');
        console.log('â€¢ Ctrl/Cmd + K: Limpar conversa');
        console.log('â€¢ Ctrl/Cmd + E: Exportar conversa');
        console.log('â€¢ Ctrl/Cmd + /: Focar no campo de mensagem');
        console.log('\nðŸ’¡ Dica: Tente o Konami Code! â†‘â†‘â†“â†“â†â†’â†â†’BA');
    </script>
</body>
</html>